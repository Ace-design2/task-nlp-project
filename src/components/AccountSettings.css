.settings-container {
  padding: 0;
  max-width: 100%;
  margin: 0 auto;
  color: #333;
  height: 100%;
  display: flex;
  flex-direction: column;
  background-color: #f5f5f5; /* Light grey background for the page */
  overflow-y: auto;
  padding-bottom: 60px; /* Prevent bottom clipping */
}

.profile-action-card,
.settings-list,
.section-title,
.edit-form-container {
  flex-shrink: 0;
}

.settings-container.dark-mode {
  background-color: #000;
  color: #e0e0e0;
}

/* --- HEADER SECTION --- */
.profile-header {
  background: linear-gradient(to bottom, #c1121f 0%, #ff4d4d 100%); /* Vertical Waterfall Gradient */
  padding: 40px 20px 80px 20px; /* Extra bottom padding for overlap */
  border-bottom-left-radius: 32px;
  border-bottom-right-radius: 32px;
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  color: white;
  position: relative;
  flex-shrink: 0;
}

.settings-container.dark-mode .profile-header {
   background: linear-gradient(to bottom, #c1121f 0%, #5c080f 100%);
}

/* Avatar */
.profile-avatar-wrapper {
  position: relative;
  width: 100px;
  height: 100px;
  margin-bottom: 16px;
  border-radius: 50%;
  border: 4px solid rgba(255, 255, 255, 0.2); /* Subtle border */
}

.profile-avatar-wrapper.editable {
  cursor: pointer;
}

.profile-avatar {
  width: 100%;
  height: 100%;
  border-radius: 50%;
  object-fit: cover;
  background-color: #fff;
}

.profile-avatar-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  border-radius: 50%;
  background-color: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  pointer-events: none; /* Let click pass through to wrapper */
}

.profile-name {
  font-size: 24px;
  font-weight: 700;
  margin: 0 0 4px 0;
  font-family: "Inter", sans-serif;
}

.profile-email {
  font-size: 14px;
  opacity: 0.8;
  margin: 0;
  font-family: "Inter", sans-serif;
  font-weight: 400;
}

/* --- ACTION CARD (Floating) --- */
.profile-action-card {
  background: white;
  margin: -50px 20px 20px 20px; /* Negative top margin for overlap */
  padding: 20px;
  border-radius: 20px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
  position: relative;
  z-index: 10;
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.settings-container.dark-mode .profile-action-card {
  background: #1e1e1e;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
}

.card-content {
  display: flex;
  align-items: flex-start;
  gap: 12px;
}

.card-icon {
  font-size: 24px;
}

.card-text h3 {
  margin: 0 0 4px 0;
  font-size: 16px;
  font-weight: 600;
  color: #333;
}

.settings-container.dark-mode .card-text h3 {
  color: #fff;
}

.card-text p {
  margin: 0;
  font-size: 13px;
  color: #666;
  line-height: 1.4;
}

.settings-container.dark-mode .card-text p {
  color: #aaa;
}

.card-actions {
  display: flex;
  gap: 12px;
}

.card-btn {
  flex: 1;
  padding: 12px;
  border-radius: 12px;
  font-size: 14px;
  font-weight: 600;
  border: none;
  cursor: pointer;
  transition: opacity 0.2s;
}

.card-btn.primary {
  background-color: #c1121f; /* App Red */
  color: white;
}

.card-btn.secondary {
  background-color: #f0f0f0;
  color: #333;
}

.settings-container.dark-mode .card-btn.secondary {
  background-color: #333;
  color: #fff;
}

/* --- SECTIONS --- */
.section-title {
  padding: 0 24px;
  margin: 10px 0 10px 0;
  font-size: 13px;
  font-weight: 600;
  color: #888;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.settings-list {
  background: white;
  margin: 0 20px 20px 20px;
  border-radius: 20px;
  overflow: hidden; /* For corner masking */
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.03);
}

.settings-container.dark-mode .settings-list {
  background: #1e1e1e;
}

.settings-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px 20px;
  border-bottom: 1px solid #f0f0f0;
  cursor: pointer;
  transition: background 0.2s;
}

.settings-container.dark-mode .settings-item {
  border-bottom: 1px solid #333;
}

.settings-item:last-child {
  border-bottom: none;
}

.settings-item:hover {
  background-color: #f9f9f9;
}

.settings-container.dark-mode .settings-item:hover {
  background-color: #252525;
}

.item-left {
  display: flex;
  align-items: center;
  gap: 16px;
}

.item-icon {
  color: #666;
  display: flex;
  align-items: center;
}

.settings-container.dark-mode .item-icon {
  color: #aaa;
}

.item-label {
  font-size: 16px;
  font-weight: 500;
  color: #333;
}

.settings-container.dark-mode .item-label {
  color: #fff;
}

.item-right {
  display: flex;
  align-items: center;
  color: #999;
}

/* Edit Mode Styles Override */
/* Reuse input styles but adapt for the new layout (e.g. inside the card or modal)
   For now, we'll keep the edit inputs inside the Action Card area for simplicity 
   or pop a modal. The previous design swapped the view. 
   Let's keep the view swap but style it nicely.
*/

.edit-form-container {
  padding: 20px;
  background: white;
  margin: 20px;
  border-radius: 20px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  box-shadow: 0 4px 20px rgba(0,0,0,0.1);
}

.settings-container.dark-mode .edit-form-container {
  background: #1e1e1e;
}

.edit-input-group {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.edit-label {
  font-size: 12px;
  color: #888;
  font-weight: 600;
}

.edit-input {
  width: 100%;
  padding: 12px;
  border-radius: 12px;
  border: 1px solid #ddd;
  background: #f9f9f9;
  font-size: 15px;
  color: #333;
  box-sizing: border-box;
}

.settings-container.dark-mode .edit-input {
    background: #2c2c2c;
    border-color: #444;
    color: #fff;
}

.logout-text {
    color: #ff4b4b;
}

/* Switch */
.switch {
  position: relative;
  display: inline-block;
  width: 50px;
  height: 28px;
}

.switch input {
  opacity: 0;
  width: 0;
  height: 0;
}

.slider {
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: #ccc;
  transition: .4s;
  border-radius: 34px;
}

.slider:before {
  position: absolute;
  content: "";
  height: 20px;
  width: 20px;
  left: 4px;
  bottom: 4px;
  background-color: white;
  transition: .4s;
  border-radius: 50%;
}

input:checked + .slider {
  background-color: #c1121f;
}

input:checked + .slider:before {
  transform: translateX(22px);
}

/* --- Desktop / Tablet Responsiveness --- */
@media (min-width: 768px) {
  .profile-header {
    padding-bottom: 100px; /* More overlap space */
    border-bottom-left-radius: 48px;
    border-bottom-right-radius: 48px;
  }

  .profile-action-card,
  .settings-list,
  .edit-form-container,
  .section-title {
    max-width: 600px; /* Opting for 600px for a tighter, cleaner look like the reference on desktop */
    margin-left: auto;
    margin-right: auto;
    width: 100%;
  }
  
  /* Ensure the negative margin on the card still works but centers */
  .profile-action-card {
    margin-top: -60px;
    margin-bottom: 24px;
  }
  
  .settings-list {
    margin-bottom: 24px;
  }
}

.App {
  text-align: center;
}

.App-logo {
  height: 40vmin;
  pointer-events: none;
}

@media (prefers-reduced-motion: no-preference) {
  .App-logo {
    animation: App-logo-spin infinite 20s linear;
  }
}

.App-header {
  background-color: #282c34;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  font-size: calc(10px + 2vmin);
  color: white;
}

.App-link {
  color: #61dafb;
}

@keyframes App-logo-spin {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
}

/* New Styles */

.app-container {
  max-width: 100%;
  margin: 0;
  padding: 0;
  font-family: "Inter", sans-serif;
  background-color: #fafafa;
  color: #333;
  min-height: 100vh;
  display: flex;
  transition:
    background-color 0.3s,
    color 0.3s;
  overflow: hidden;
}

.app-container.dark-mode {
  background-color: #000000;
  color: #e0e0e0;
}

body {
  background-color: #f5f5f5;
}

body.dark-mode {
  background-color: #000000;
}

/* Sidebar Container matching snippet */
/* Sidebar Container matching snippet */
.sidebar {
  box-sizing: border-box;
  width: 250px;
  background-color: #fff;
  height: calc(100vh - 20px);
  position: fixed;
  margin-left: 12px;
  /* FIXED: Always visible on desktop */
  left: 0; /* aligned with margin-left */
  top: 10px;
  transition:
    width 0.3s cubic-bezier(0.2, 0.8, 0.2, 1),
    transform 0.3s cubic-bezier(0.2, 0.8, 0.2, 1);
  box-shadow: 2px 0 12px rgba(0, 0, 0, 0.08);
  z-index: 1000;

  /* Snippet specific styles */
  padding: 12px;
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  align-items: flex-start;
  gap: 8px;
  border-radius: 24px; /* Applied to all corners based on snippet context, or at least consistent with request */
  outline: 1px solid #000;
  outline-offset: -1px;
}

/* Removed .sidebar.open as it is always open on desktop now */

.app-container.dark-mode .sidebar {
  background-color: #1e1e1e;
  border-right: none;
  outline: 1px solid #333;
}

.sidebar-item {
  /* Snippet specific item styles */
  align-self: stretch;
  padding: 4px 12px;
  border-radius: 12px;
  display: flex;
  justify-content: space-between;
  align-items: center;

  cursor: pointer;
  border: none;
  background-color: transparent;
  width: 100%;
  color: #333333;
  text-align: left;

  /* Typography from snippet */
  font-family: "Inter", sans-serif;
  font-size: 12px;
  font-weight: 400;
  overflow: hidden; /* Ensure content doesn't spill during transition */
}

.app-container.dark-mode .sidebar-item {
  color: #e0e0e0;
}

.sidebar-item.active {
  background-color: #c1121f;
  color: #fff;
}

.app-container.dark-mode .sidebar-item.active {
  background-color: #c1121f;
  color: #fff;
}

.sidebar-item .nav-text {
  font-family: "Inter", sans-serif;
  font-weight: 400;
  font-size: 12px;
  white-space: nowrap;
  opacity: 1;
  max-width: 150px; /* Arbitrary large enough width */
  transition:
    opacity 0.2s ease,
    max-width 0.3s cubic-bezier(0.2, 0.8, 0.2, 1);
}

/* Ensure active text is consistent with snippet (400 weight) unless user wants bold override. 
   Snippet says fontWeight: '400' for everything. I will respect that. */
.sidebar-item.active .nav-text {
  font-weight: 500; /* Bump weight slightly for valid contrast on color */
  color: #fff;
}

.active-pill {
  /* Hidden for this style as background-color is used directly */
  display: none;
}

/* Sidebar Collapsed State */
.sidebar.collapsed {
  width: 70px;
  align-items: center;
}

.sidebar.collapsed .sidebar-item {
  justify-content: center;
  padding: 8px;
}

.sidebar.collapsed .nav-text {
  opacity: 0;
  max-width: 0;
  margin: 0;
}

/* Main Content Adjustment */
.main-content {
  flex-grow: 1;
  /* Adjusted margin to account for fixed sidebar (250px width + 12px margin + ~20px gap) */
  margin-left: 282px;
  transition: margin-left 0.3s cubic-bezier(0.2, 0.8, 0.2, 1);
  padding: 0; /* REMOVED PADDING per user request */
  display: flex;
  flex-direction: column;
  height: 100vh;
  max-width: 100%;
  box-sizing: border-box;
  background-color: #fafafa;
}

.main-content.collapsed-sidebar {
  margin-left: 92px; /* 70px width + 12px margin + 10px spacng */
}

.app-container.dark-mode .main-content {
  background-color: #000000;

}

.header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 0px;
}

/* menu-button removed */

.title {
  text-align: left;
  flex-grow: 1;
  margin: 0;
}

.dark-mode-toggle {
  padding: 8px 12px;
  cursor: pointer;
  border: 1px solid #333;
  background-color: transparent;
  color: #333;
  border-radius: 20px;
}

.app-container.dark-mode .dark-mode-toggle {
  border: 1px solid #e0e0e0;
  color: #e0e0e0;
}

.results-container {
  padding-top: 0px;
  flex-grow: 1;
  overflow-y: auto;
}

.tasks-view-container {
  flex-grow: 1;
  overflow: hidden; /* Important to contain the scalable child */
  display: flex;
  flex-direction: column;
  height: 100%;
}

.form-container {
  padding: 20px;
  border-radius: 12px;
  background-color: #fff;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  display: flex;
  flex-direction: column;
  gap: 15px;
  align-items: center;
  max-width: 800px;
  margin: 0 auto;
  width: calc(100% - 40px);
  box-sizing: border-box;
  position: fixed;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 100;
}

.app-container.dark-mode .form-container {
  background-color: #1e1e1e;
}

.imessage-form {
  display: flex;
  align-items: center;
  gap: 10px;
  width: 100%;
}

.send-button {
  background: none;
  border: none;
  cursor: pointer;
  padding: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.overlay {
  display: none !important;
}

.overlay.visible {
  display: none !important;
}

/* Hide Bottom Nav on Desktop */
.bottom-navigation {
  display: none !important;
}

/* Mobile Navigation Styles */
/* Only apply mobile layout (bottom nav, hidden sidebar) for screens strictly smaller than iPad portrait */
@media (max-width: 768px) {
  .bottom-navigation {
    display: flex !important;
  }

  .sidebar {
    display: none; /* Completely hide sidebar on mobile */
  }

  .menu-button {
    display: none; /* Hide hamburger menu */
  }

  .main-content {
    padding-bottom: 0px; /* Increased space for floating nav (which is ~80px + margin) */
    margin-left: 0 !important;
  }

  /* Adjust form container for mobile width and bottom nav */
  .form-container {
    bottom: 20px; /* Reduced from 110px since nav bar is hidden in chat */
    width: calc(100% - 32px);
    max-width: 100%;
    padding: 12px;
    left: 50%;
    transform: translateX(-50%);

    /* Make form container also slightly glass-like if desired, but sticking to solid for now to ensure readability */
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
  }

  .header.search-active .title {
    display: none;
  }
}

/* ChatList Styles */
.chat-list-container {
  width: 100%;
  height: 100%;
  overflow-y: auto; /* Enable scrolling */
  padding-bottom: 110px; /* Space for scrolling */
  padding-left: 12px;
  padding-right: 12px;
  box-sizing: border-box;
  flex-direction: column;
  justify-content: flex-start;
  align-items: flex-start;
  gap: 12px;
  display: flex;
  padding-top: 12px;
}

.chat-category-group {
  display: flex;
  flex-direction: column;
  gap: 8px;
  width: 100%;
}

.chat-item-wrapper {
  align-self: stretch;
  flex-direction: column;
  justify-content: flex-start;
  align-items: flex-start;
  gap: 8px;
  display: flex;
  cursor: pointer;
  min-width: 0; /* Important for flex truncation */
}

.chat-item-content {
  align-self: stretch;
  justify-content: center;
  align-items: center;
  gap: 4px;
  display: flex; /* Changed from inline-flex */
  min-width: 0; /* Important for flex truncation */
  width: 100%;
}

.chat-item-card {
  flex: 1 1 0;
  padding: 20px;
  border-radius: 12px;
  outline-offset: -1px;
  justify-content: space-between;
  align-items: center;
  display: flex;
  transition: all 0.2s ease;
  min-width: 0; /* Critical for text-overflow to work in flex child */
  outline: 1px solid rgba(193, 18, 31, 0.3); /* Lighter red stroke */
  background-color: transparent;
}

.chat-item-card.dark {
  outline: 1px solid rgba(193, 18, 31, 0.3);
  background-color: #1e1e1e;
}

/* Hover Effect with Red Accent & Active State */
.chat-item-card:hover,
.chat-item-card.active {
  outline-color: #c1121f;
  background-color: rgba(193, 18, 31, 0.05);
  cursor: pointer;
}

.chat-item-card.dark:hover,
.chat-item-card.dark.active {
  outline-color: #c1121f;
  background-color: rgba(193, 18, 31, 0.15);
}

.chat-item-title {
  /* Removed width: 100% to let flex handle it */
  flex: 1;
  min-width: 0; /* Allows shrinking below content size */
  font-size: 16px;
  font-family: "Inter", sans-serif;
  font-weight: 500;
  word-wrap: break-word;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.chat-item-meta {
  justify-content: center;
  align-items: center;
  gap: 12px;
  display: flex;
  margin-left: 12px;
  flex-shrink: 0; /* Prevent time/meta from squashing */
}

.chat-item-time {
  font-size: 14px;
  font-family: "Inter", sans-serif;
  font-weight: 400;
  word-wrap: break-word;
  white-space: nowrap;
}

.delete-icon-wrapper {
  width: 24px;
  height: 24px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0; /* Prevent icon squashing */
}

/* Mobile Responsiveness */
@media (max-width: 600px) {
  .chat-item-card {
    padding: 16px;
  }

  .chat-item-title {
    font-size: 15px;
  }

  .chat-item-time {
    font-size: 12px;
  }
}

/* Chat Search Wrapper */
.chat-search-wrapper {
  width: 100%;
  box-sizing: border-box;
  margin-top: 12px;
  padding: 0 4px; /* Slight side padding inside main container */
}

/* Chat Search Input */
.chat-search-input {
  width: 100%;
  padding: 12px 16px;
  border-radius: 12px;
  border: 1px solid #ccc;
  background: #fff;
  color: #000;
  outline: none;
  font-family: "Inter", sans-serif;
  font-size: 14px;
  transition: all 0.2s ease;
  margin-top: 12px; /* Move down a bit */
 
  box-sizing: border-box; /* Critical for keeping width valid */
}

.chat-search-input:focus {
  border-color: #c1121f;
  box-shadow: 0 0 0 4px rgba(193, 18, 31, 0.1);
}

/* Dark Mode Search Input */
.app-container.dark-mode .chat-search-input {
  border-color: rgba(193, 18, 31, 0.3);
  background: #1a1a1a;
  color: #fff;
}

.app-container.dark-mode .chat-search-input:focus {
  border-color: #c1121f;
  box-shadow: 0 0 0 4px rgba(193, 18, 31, 0.2);
}

/* Hide scrollbar for Chrome, Safari and Opera */
*::-webkit-scrollbar {
  display: none;
}

/* Hide scrollbar for IE, Edge and Firefox */
* {
  -ms-overflow-style: none; /* IE and Edge */
  scrollbar-width: none; /* Firefox */
}

/* --- ASTRA DESIGN --- */

/* Start Page Container */
.astra-start-page {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  flex: 1;
  width: 100%;
  padding-bottom: 80px; /* Space for bottom bar */
  position: relative;
  overflow: hidden; /* Ensure particles don't scroll the page */
}

/* Card */
.astra-card {
  width: 320px;
  min-height: 380px;
  background: white;
  border-radius: 24px;
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.05); /* Gentle shadow */
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 40px 30px;
  text-align: center;
  gap: 20px;
  position: relative;
  transition: background 0.3s;
}

.astra-start-page.dark .astra-card {
  background: #121212;
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
}

/* Orb */

.astra-avatar {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  overflow: hidden;
  position: relative;
  flex-shrink: 0;
  margin-right: 10px; /* Spacing from message bubble */
}
/* Welcome Text */
.astra-welcome-text {
  font-size: 14px;
  color: #333;
  line-height: 1.5;
  font-weight: 500;
  margin: 0;
  max-width: 100%;
}

.astra-start-page.dark .astra-welcome-text {
  color: #ddd;
}

/* Inner Prompt Box (Visual Only in Card) */
.astra-prompt-box {
  width: 100%;
  background: #f7f9fb; /* Very light subtle blue/grey */
  border-radius: 20px;
  padding: 16px;
  display: flex;
  flex-direction: column;
  gap: 15px;
  text-align: left;
  font-size: 13px;
  color: #666;
  margin-top: auto;
}

.astra-start-page.dark .astra-prompt-box {
  background: #1e1e1e;
  color: #aaa;
}

.astra-prompt-actions {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-top: 5px;
}

.astra-action-btn-small {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  border: none;
  background: #eaeef1;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  color: #555;
  transition: transform 0.1s;
}

.astra-action-btn-small:hover {
  transform: scale(1.05);
}

.astra-start-page.dark .astra-action-btn-small {
  background: #333;
  color: #fff;
}

.astra-action-btn-small.filled {
  background: #000;
  color: white;
}

.astra-start-page.dark .astra-action-btn-small.filled {
  background: #fff;
  color: black; /* Inverted for dark mode visibility logic inside component */
}

/* --- NEW FLOATING INPUT (PILL) --- */
.astra-float-input-container {
  position: fixed;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  width: 100%;
  max-width: 700px;
  padding: 0 16px; /* Default side padding */
  box-sizing: border-box;
  z-index: 100;
  display: flex;
  flex-direction: column;
  align-items: center; /* Center the group horizontally */
  justify-content: flex-end;
  pointer-events: none;
}

.astra-input-group {
  background-color: #ffffff;
  border-radius: 32px;
  padding: 12px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  align-items: flex-start;
  pointer-events: auto;
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
  width: 100%;
  box-sizing: border-box;
}

.app-container.dark-mode .astra-input-group {
  background-color: #121212;
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
}

/* Actions Row for Top Buttons */
.astra-actions-row {
  display: flex;
  flex-direction: row;
  gap: 12px;
  width: 100%;
  justify-content: flex-start; /* Align left or center depending on preference, usually start for these pills */
  align-items: center;
}

.study-schedule-btn {
  background-color: #c1121f;
  color: #fff;
  border: none;
  border-radius: 999px; /* Pill shape */
  padding: 8px 12px;
  font-family: "Inter", sans-serif;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 8px; /* Space between text and icon */
  pointer-events: auto; /* Enable clicks */
  box-shadow: none;
  transition: transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.app-container.dark-mode .study-schedule-btn {
  background-color: #c1121f;
  color: #fff;
  border: none;
  box-shadow: none;
}

.study-schedule-icon {
  transform: rotate(45deg); /* Arrow facing 45 degrees */
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Desktop Centering Adjustment */
@media (min-width: 1025px) {
  .astra-float-input-container {
    left: calc(
      50% + 141px
    ); /* Center in the remaining space (282px sidebar / 2) */
  }
}

@media (min-width: 769px) and (max-width: 1024px) {
  /* Tablet/iPad Landscape & Small Desktop */
  .astra-float-input-container {
    /* If sidebar is collapsed (92px), offset center by 46px */
    /* If sidebar is open (250px), offset center by 125px */
    /* Since we don't have CSS variables for sidebar state here easily without inline styles,
           we'll approximate or assume user keeps it collapsed mostly on tablet.
           But a better generic approach is centering relative to window and letting JS handle precise offset if needed,
           OR just centered in viewport is often fine visually.
           
           Let's center in the VIEW VIEW (right pane).
           Right pane starts at 250px+margin or 70px+margin.
        */
    left: 60%; /* Rough approximation for tablet with sidebar */
    transform: translateX(-50%);
    width: calc(100% - 300px); /* Constrain width */
  }
}

/* Mobile specific adjustments */
@media (max-width: 768px) {
  .astra-float-input-container {
    bottom: 10px;
    max-width: 100%;
    padding: 0 12px;
  }

  .astra-input-pill {
    min-height: 50px;
    border-radius: 25px;
    padding-left: 15px;
  }
}

.astra-input-pill {
  width: 100%;
  background: white;
  min-height: 48px;
  border-radius: 35px; /* Full pill shape */
  box-shadow: none;
  display: flex;
  align-items: center;
  padding: 5px 10px 5px 20px;
  gap: 12px;
  pointer-events: auto;
  border: 1px solid rgba(193, 18, 31, 0.3);
  transition: background 0.3s;
  box-sizing: border-box; /* Fix overflow */
}

.app-container.dark-mode .astra-input-pill {
  background: #363636;
  border: 1px solid rgba(193, 18, 31);
  box-shadow: none;
}

.astra-input-area {
  flex: 1;
  border: none;
  font-family: "Inter", sans-serif;
  font-size: 16px;
  outline: none;
  background: transparent;
  color: #333;
  resize: none;
  height: auto;
  min-height: 24px;
  max-height: 120px; /* Increased max-height for better visibility of long text */
  padding: 0;
  line-height: 24px;
  overflow-y: auto; /* Scroll when max-height is reached */
  display: block; /* Ensure it behaves like a block for height calculation */
}

.app-container.dark-mode .astra-input-area {
  color: white;
}

.app-container.dark-mode .astra-input-area::placeholder {
  color: rgba(255, 255, 255, 0.7); /* White placeholder with some transparency */
}

/* Icons in Input */
.astra-input-icon-btn {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  border: none;
  background: #f0f2f5;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  color: #555;
  flex-shrink: 0;
}

.app-container.dark-mode .astra-input-icon-btn {
  background: #333;
  color: #ffffff;
}


/* Voice Button Specific */
.astra-voice-btn {
  height: 40px; /* Match input height */
  /* Remove width constraint to let pill expand */
  width: auto;
  border: none;
  background: transparent;
  padding: 0;
  margin: 0;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.astra-send-btn {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  border: none;
  background: #c1121f;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  color: white;
  flex-shrink: 0;
  transition: transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.astra-send-btn:hover {
  transform: scale(1.1);
}

.app-container.dark-mode .astra-send-btn {
  background: #c1121f;
  /* Icon inside should be inverted or black */
}

/* 3-Pane Layout Styles */
.chat-desktop-layout {
  display: flex;
  width: 100%;
  height: 100%;
  overflow: hidden;
  padding: 0px; /* Removed padding to allow header to fill */
  box-sizing: border-box;
  background-color: #ffffff;
}

.app-container.dark-mode .chat-desktop-layout {
  background-color: #000000;
}

.chat-list-pane {
  width: 300px; /* Fixed width for list (Reduced from 400px) */
  border-right: 1px solid rgba(0, 0, 0, 0.1);
  display: flex;
  flex-direction: column;
  height: 100%;
  background: transparent;
  flex-shrink: 0;
}

.app-container.dark-mode .chat-list-pane {
  border-right: 1px solid rgba(255, 255, 255, 0.1);
}

.chat-view-pane {
  flex-grow: 1;
  display: flex;
  flex-direction: column;
  height: 100%;
  position: relative; /* For absolute positioning inside if needed */
  background: transparent;
  min-width: 0; /* Important for flex children */
  padding-top: 12px;
}

/* Logic for new input positioning in desktop */
/* The input is fixed, but we want it centered in the Right pane? */
/* Actually currently it is fixed relative to window. */
/* We might want to change it to absolute relative to chat-view-pane for better layout? */
/* User requested "chat opened on the right panel". */
/* If we keep it fixed, we need to adjust 'left' calc. */

/* Mobile Visibility Utilities */
@media (max-width: 768px) {
  .chat-desktop-layout {
    display: block; /* Stack or just show one */
    background-color: #ffffff;
    padding: 0px;
  }

  .chat-list-pane,
  .chat-view-pane {
    width: 100%;
    border-right: none;
  }

  .mobile-hidden {
    display: none !important;
  }

  .desktop-hidden {
    display: flex !important; /* or block */
  }
}

@media (min-width: 769px) {
  .desktop-hidden {
    display: none !important;
  }

  /* Reset width for pane if it was set to 100% via some other rule? No, specific class handles it. */

  /* Input positioning adjustment for 3-pane */
  /* Sidebar is 250px + margin (~262px). Chat List is 300px. */
  /* Total Left Offset = ~560px. Center of Right Pane is (Screen - 560)/2 + 560. */
  /* Or just use 'left: auto' and 'right: 0' properties? No, it uses transform translate. */
  /* Better: make .chat-view-pane relative and put form absolute inside it? */
  /* If I change form to absolute, I need to ensure chat-view-pane is the containing block */
}

/* Adjusting Float Input to be Absolute inside View Pane on Desktop */
@media (min-width: 769px) {
  .chat-view-pane .astra-float-input-container {
    position: absolute;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    width: 100%;
    max-width: 700px;
    padding: 0 20px;
    z-index: 100;
  }
}

.desktop-empty-state {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100%;
  font-size: 16px;
  color: #888;
}

.chat-mobile-header {
  padding: 10px;
  border-bottom: 1px solid rgba(0, 0, 0, 0.05);
  display: flex;
  align-items: center;
}

.app-container.dark-mode .chat-mobile-header {
  border-bottom: 1px solid rgba(255, 255, 255, 0.05);
}

/* Very small screens - FORCE Override */
@media (max-width: 360px) {
  .astra-input-pill {
    padding: 4px 6px 4px 12px !important;
    gap: 6px !important;
    min-height: 44px !important;
  }

  .astra-input-icon-btn,
  .astra-send-btn {
    width: 32px !important;
    height: 32px !important;
    min-width: 32px !important;
  }
}

/* Resizer Handle */
.resizer-handle {
  width: 5px;
  cursor: col-resize;
  background-color: transparent;
  transition: background-color 0.2s;
  flex-shrink: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 10;
}

.resizer-handle:hover,
.resizer-handle.resizing {
  background-color: rgba(193, 18, 31, 0.3); /* Visual feedback on hover/drag */
}

/* Optional: Add a grabber line in the center purely for visual affordance */
.resizer-handle::after {
  content: "";
  width: 1px;
  height: 20px;
  background-color: rgba(0, 0, 0, 0.2);
  display: none; /* Hidden by default, maybe show on hover? */
}

.resizer-handle:hover::after {
  display: block;
}

.app-container.dark-mode .resizer-handle:hover::after {
  background-color: rgba(255, 255, 255, 0.2);
}

/* Desktop Chat Close Button */
.desktop-chat-close-btn {
  position: absolute;
  top: 20px;
  right: 20px;
  background: none;
  border: none;
  cursor: pointer;
  padding: 8px;
  border-radius: 50%;
  transition: background-color 0.2s;
  z-index: 50; /* Above message list */
  display: flex;
  align-items: center;
  justify-content: center;
  color: #555;
}

.desktop-chat-close-btn:hover {
  background-color: rgba(0, 0, 0, 0.05);
}

.app-container.dark-mode .desktop-chat-close-btn {
  color: #ddd;
}

.app-container.dark-mode .desktop-chat-close-btn:hover {
  background-color: rgba(255, 255, 255, 0.1);
}

/* Main Content Area Scroll Fix */
.content-scrollable {
  flex-grow: 1;
  overflow-y: auto;
  height: 100%;
  display: flex;
  flex-direction: column;
  
}
p.user-detail {
  padding-top: 4px;
  padding-bottom: 4px;
  margin: 0px;
}

/* iOS 26 Glassmorphism Back Button */
.glass-back-btn {
  background: rgba(255, 255, 255, 0.75);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid rgba(255, 255, 255, 0.3);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  border-radius: 50%;
  padding: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.2s ease;
  width: 40px; 
  height: 40px;
}

.dark-mode .glass-back-btn {
  background: rgba(30, 30, 30, 0.6);
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

.glass-back-btn:active {
  transform: scale(0.95);
  background: rgba(255, 255, 255, 0.9);
}

.dark-mode .glass-back-btn:active {
    background: rgba(50, 50, 50, 0.8);
}

.chat-header {
  border-radius: 32px;
  margin-top: 12px;
  margin-right: 10px;
}

@media (max-width: 480px) {
  .chat-header {
    margin-top: 0px;
    margin-right: 0px;
    border-radius: 0px 0px 32px 32px;
  }
}
/* --- SPEECH MODE OVERLAY --- */
/* --- SPEECH MODE OVERLAY --- */
.speech-mode-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background-color: #000000;
  z-index: 9999;
  display: flex;
  flex-direction: column;
  color: white;
}

.speech-history-container {
    -webkit-mask-image: linear-gradient(to bottom, transparent 0%, black 10%, black 90%, transparent 100%);
    mask-image: linear-gradient(to bottom, transparent 0%, black 10%, black 90%, transparent 100%);
    /* Hide scrollbar */
    scrollbar-width: none;
}
.speech-history-container::-webkit-scrollbar {
    display: none;
}

/* Ensure TaskHistory text is visible on black */
.speech-mode-overlay .task-history-container {
    background: transparent !important;
}


body.dark-mode .speech-mode-overlay {
  background-color: #000000;
}

/* Visualization Container */
.voice-visualizer {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px; /* Space between bars */
  height: 120px; /* Fixed container height */
  margin-bottom: 40px;
  width: 200px;
}

/* Individual Bar */
.voice-bar {
  width: 12px;
  background-color: #c1121f;
  border-radius: 99px;
  transition: height 0.05s ease; /* Fast transition for responsiveness */
  min-height: 10px;
}

/* Optional: Glow more in dark mode */
body.dark-mode .voice-bar {
  box-shadow: 0 0 10px rgba(193, 18, 31, 0.4);
}

.speech-status-text {
  font-family: "Inter", sans-serif;
  font-size: 16px;
  font-weight: 500;
  color: #666;
  margin-bottom: 24px;
  text-transform: uppercase;
  letter-spacing: 1px;
}

body.dark-mode .speech-status-text {
  color: #aaa;
}

.live-transcript {
  font-family: "Inter", sans-serif;
  font-size: 32px;
  font-weight: 600;
  color: #333;
  max-width: 800px;
  line-height: 1.4;
  min-height: 100px; /* Prevent jumping */
  transition: color 0.3s ease;
}

body.dark-mode .live-transcript {
  color: #fff;
}

.close-speech-btn {
  position: absolute;
  top: 40px;
  right: 40px;
  background: none;
  border: none;
  cursor: pointer;
  padding: 10px;
  border-radius: 50%;
  background-color: rgba(0, 0, 0, 0.05);
  transition: background-color 0.2s;
}

.close-speech-btn:hover {
  background-color: rgba(0, 0, 0, 0.1);
}

body.dark-mode .close-speech-btn {
  background-color: rgba(255, 255, 255, 0.1);
}

body.dark-mode .close-speech-btn:hover {
  background-color: rgba(255, 255, 255, 0.2);
}
.voice-mode-pill {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: 8px 12px;
  border-radius: 20px;
  background-color: #c1121f;
  color: white;
  font-size: 14px;
  font-weight: 500;
}

@media (max-width: 480px) {
  .voice-mode-pill {
    font-size: 12px;
  }
  
  .study-schedule-btn {
    font-size: 12px;
  }
}

@media (max-width: 350px) {
  .voice-mode-pill {
    font-size: 10px;
    font-weight: bold;
  }
  
  .study-schedule-btn {
    font-size: 10px;
    font-weight: bold;
  }
}